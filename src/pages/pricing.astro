---
import MainLayout from '../layouts/MainLayout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import { Check, X, HelpCircle, Camera, BookHeart, Globe, ArrowRight } from 'lucide-react';

const lang = 'en';
const acceptLanguage = Astro.request?.headers?.get('accept-language') ?? '';
const locale = acceptLanguage.split(',')[0] || 'en-US';
const currency = new Intl.NumberFormat(locale, { style: 'currency', currency: 'USD', maximumFractionDigits: 0 });
const currencyPrecise = new Intl.NumberFormat(locale, { style: 'currency', currency: 'USD', minimumFractionDigits: 2, maximumFractionDigits: 2 });
const priceOriginal = 249;
const pricePromo = 199;
const renewalAnnual = 19.99;
const monthlyTransfer = 12;
const durationYears = 2;
const discountAmount = priceOriginal - pricePromo;
const priceOriginalLabel = currency.format(priceOriginal);
const pricePromoLabel = currency.format(pricePromo);
const renewalAnnualLabel = currencyPrecise.format(renewalAnnual);
const monthlyTransferLabel = currency.format(monthlyTransfer);
const discountLabel = currency.format(discountAmount);
const durationLabel = new Intl.NumberFormat(locale).format(durationYears);
const guaranteeDaysLabel = new Intl.NumberFormat(locale).format(30);
const features = [
  "Unlimited photos & videos gallery",
  "Private domain name",
  "Digital guestbook",
  "Wedding website & RSVP",
  "Mobile app (PWA)",
  "Offline mode",
  "Bulk download (ZIP)",
  "Print-ready guestbook PDF",
  "Category albums",
  "Reactions & favorites",
  "Slideshow mode",
  "Email support"
];
---

<MainLayout
  title="Pricing - Reflets de Bonheur"
  description={`Premium wedding experience: ${pricePromoLabel} for ${durationLabel} years with your private domain included.`}
  showHeader={true}
>
  <Header slot="header" />

  <!-- Hero Section -->
  <section class="py-24 bg-cream dark:bg-[#0f0f0f]">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center max-w-3xl mx-auto mb-16">
        <span class="tracking-[0.3em] uppercase text-xs font-sans font-medium text-burgundy-old">
          Pricing
        </span>
        <h1 class="font-serif text-4xl sm:text-5xl font-light text-charcoal dark:text-cream mt-4 mb-6">
          Premium Pricing, No Surprises
        </h1>
        <div class="w-16 h-px mx-auto mb-6" style="background-color: #ae1725;"></div>
        <p class="text-charcoal-light dark:text-cream/70 font-light">
          A complete luxury experience with private hosting and curated design.
        </p>
      </div>

      <!-- Pricing Card -->
      <div class="max-w-3xl mx-auto">
        <div class="bg-white dark:bg-[#141414] border p-8 sm:p-12 relative" style="border-color: rgba(174, 23, 37, 0.2);">
          <!-- Badge -->
          <div class="absolute -top-4 left-1/2 -translate-x-1/2">
            <span class="text-white text-xs font-sans font-medium tracking-wider uppercase px-4 py-2" style="background-color: #ae1725;">
              Limited Collection
            </span>
          </div>

          <div class="text-center mb-10 pt-4">
            <h2 class="font-serif text-2xl text-charcoal dark:text-cream mb-2">Complete Package</h2>
            <p class="text-charcoal-light dark:text-cream/70 font-light text-sm">All premium services included</p>
          </div>

          <!-- Price -->
          <div class="text-center mb-10">
            <div class="flex items-center justify-center gap-4 mb-3 tabular-nums">
              <span class="text-2xl text-charcoal-light/50 line-through font-light">{priceOriginalLabel}</span>
              <span class="font-serif text-6xl sm:text-7xl font-light text-burgundy-old">{pricePromoLabel}</span>
            </div>
            <p class="text-charcoal-light dark:text-cream/70 mb-2">
              for <strong class="text-charcoal dark:text-cream">{durationLabel}&nbsp;years</strong>
              <span class="ml-2 font-medium text-burgundy-old">(Save {discountLabel})</span>
            </p>
            <div class="inline-flex items-center gap-2 px-4 py-2 mt-2" style="background-color: rgba(174, 23, 37, 0.05);">
              <span class="text-sm text-charcoal-light dark:text-cream/70">
                Then <strong class="text-burgundy-old">{renewalAnnualLabel}/year</strong> to keep your gallery online
              </span>
            </div>
          </div>

          <!-- Divider -->
          <div class="flex items-center gap-4 my-8">
            <div class="flex-1 h-px" style="background-color: rgba(174, 23, 37, 0.1);"></div>
            <span class="text-sm" style="color: rgba(174, 23, 37, 0.4);">✦</span>
            <div class="flex-1 h-px" style="background-color: rgba(174, 23, 37, 0.1);"></div>
          </div>

          <!-- Three Services -->
          <div class="grid md:grid-cols-3 gap-6 mb-10">
            <div class="text-center p-4">
              <Camera class="w-6 h-6 mx-auto mb-3 text-burgundy-old" aria-hidden="true" />
              <h3 class="font-medium text-charcoal dark:text-cream text-sm mb-2">Photo Gallery</h3>
              <ul class="text-xs text-charcoal-light dark:text-cream/70 space-y-1 font-light">
                <li>Unlimited uploads</li>
                <li>Curated albums</li>
                <li>ZIP archive</li>
              </ul>
            </div>

            <div class="text-center p-4 border-x" style="border-color: rgba(174, 23, 37, 0.1);">
              <BookHeart class="w-6 h-6 mx-auto mb-3 text-burgundy-old" aria-hidden="true" />
              <h3 class="font-medium text-charcoal dark:text-cream text-sm mb-2">Guestbook</h3>
              <ul class="text-xs text-charcoal-light dark:text-cream/70 space-y-1 font-light">
                <li>Unlimited messages</li>
                <li>Admin moderation</li>
                <li>Print-ready PDF</li>
              </ul>
            </div>

            <div class="text-center p-4">
              <Globe class="w-6 h-6 mx-auto mb-3 text-burgundy-old" aria-hidden="true" />
              <h3 class="font-medium text-charcoal dark:text-cream text-sm mb-2">Wedding Website</h3>
              <ul class="text-xs text-charcoal-light dark:text-cream/70 space-y-1 font-light">
                <li>Private domain</li>
                <li>Timeline & venue</li>
                <li>RSVP tracking</li>
              </ul>
            </div>
          </div>

          <!-- CTA -->
          <div class="text-center">
            <a
              href="/connexion"
              class="inline-flex items-center px-10 py-4 text-white font-sans font-medium text-sm tracking-wider uppercase transition-opacity hover:opacity-90"
              style="background-color: #ae1725;"
            >
              Get Started Now
              <ArrowRight class="ml-2 w-4 h-4" aria-hidden="true" />
            </a>
            <p class="mt-4 text-charcoal-light dark:text-cream/70 text-sm font-light">
              {guaranteeDaysLabel}-day money-back guarantee
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features List -->
  <section class="py-24 dark:bg-[#141414]" style="background-color: rgba(174, 23, 37, 0.03);">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <span class="tracking-[0.3em] uppercase text-xs font-sans font-medium text-burgundy-old">
          Included in the Offer
        </span>
        <h2 class="font-serif text-3xl sm:text-4xl font-light text-charcoal dark:text-cream mt-4">
          Everything You Need
        </h2>
      </div>

      {features.length > 0 ? (
        <div class="max-w-4xl mx-auto grid sm:grid-cols-2 gap-4">
          {features.map(feature => (
            <div class="flex items-center gap-3 p-3 bg-white dark:bg-[#1b1b1b] border border-white/10">
              <div class="w-5 h-5 flex items-center justify-center shrink-0" style="border: 1px solid #ae1725; color: #ae1725;">
                <Check class="w-3 h-3" aria-hidden="true" />
              </div>
              <span class="text-charcoal dark:text-cream font-light text-sm break-words min-w-0">{feature}</span>
            </div>
          ))}
        </div>
      ) : (
        <p class="text-center text-charcoal-light dark:text-cream/70">Features will be listed here soon.</p>
      )}
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-24 bg-cream dark:bg-[#0f0f0f]">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <span class="tracking-[0.3em] uppercase text-xs font-sans font-medium text-burgundy-old">
          FAQ
        </span>
        <h2 id="faq" class="font-serif text-3xl sm:text-4xl font-light text-charcoal dark:text-cream mt-4 scroll-mt-24">
          Frequently Asked Questions
        </h2>
      </div>

      <div class="max-w-3xl mx-auto space-y-4">
        <!-- FAQ Item 1 -->
        <div class="bg-white dark:bg-[#141414] border p-6" style="border-color: rgba(174, 23, 37, 0.1);">
          <div class="flex items-start gap-3">
            <HelpCircle class="w-5 h-5 shrink-0 mt-0.5 text-burgundy-old" aria-hidden="true" />
            <div class="min-w-0">
              <h3 class="font-medium text-charcoal dark:text-cream mb-2 break-words">
                How does the custom domain work?
              </h3>
              <p class="text-charcoal-light dark:text-cream/70 font-light text-sm leading-relaxed break-words">
                You choose your name during signup (e.g., john-jane.reflets-bonheur.fr).
                This will be the unique address for your wedding space, accessible to all your guests.
              </p>
            </div>
          </div>
        </div>

        <!-- FAQ Item 2 -->
        <div class="bg-white dark:bg-[#141414] border p-6" style="border-color: rgba(174, 23, 37, 0.1);">
          <div class="flex items-start gap-3">
            <HelpCircle class="w-5 h-5 shrink-0 mt-0.5 text-burgundy-old" aria-hidden="true" />
            <div class="min-w-0">
              <h3 class="font-medium text-charcoal dark:text-cream mb-2 break-words">
                How does renewal work?
              </h3>
              <p class="text-charcoal-light dark:text-cream/70 font-light text-sm leading-relaxed break-words">
                After {durationLabel}&nbsp;years, if you want to keep your gallery online (read-only mode, no new uploads),
                it's only {renewalAnnualLabel}/year. Renewal is optional - you can download your data at any time.
              </p>
            </div>
          </div>
        </div>

        <!-- FAQ Item 3 -->
        <div class="bg-white dark:bg-[#141414] border p-6" style="border-color: rgba(174, 23, 37, 0.1);">
          <div class="flex items-start gap-3">
            <HelpCircle class="w-5 h-5 shrink-0 mt-0.5 text-burgundy-old" aria-hidden="true" />
            <div class="min-w-0">
              <h3 class="font-medium text-charcoal dark:text-cream mb-2 break-words">
                Are my photos secure?
              </h3>
              <p class="text-charcoal-light dark:text-cream/70 font-light text-sm leading-relaxed break-words">
                Yes, your data is encrypted and automatically backed up.
                Only people with the private access link can view your gallery.
              </p>
            </div>
          </div>
        </div>

        <!-- FAQ Item 4 -->
        <div class="bg-white dark:bg-[#141414] border p-6" style="border-color: rgba(174, 23, 37, 0.1);">
          <div class="flex items-start gap-3">
            <HelpCircle class="w-5 h-5 shrink-0 mt-0.5 text-burgundy-old" aria-hidden="true" />
            <div class="min-w-0">
              <h3 class="font-medium text-charcoal dark:text-cream mb-2 break-words">
                Can I download my photos?
              </h3>
              <p class="text-charcoal-light dark:text-cream/70 font-light text-sm leading-relaxed break-words">
                At any time, you can download all your photos and videos in one click (ZIP format).
                The guestbook can be exported as PDF.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Comparison Section -->
  <section class="py-24 dark:bg-[#141414]" style="background-color: rgba(174, 23, 37, 0.03);">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <span class="tracking-[0.3em] uppercase text-xs font-sans font-medium text-burgundy-old">
          Comparison
        </span>
        <h2 class="font-serif text-3xl sm:text-4xl font-light text-charcoal dark:text-cream mt-4">
          Why Choose Us?
        </h2>
      </div>

      <div class="max-w-5xl mx-auto overflow-x-auto">
        <table class="w-full bg-white dark:bg-[#1b1b1b] tabular-nums">
          <caption class="sr-only">Feature comparison of Reflets de Bonheur, Google Photos, and WeTransfer.</caption>
          <thead>
            <tr style="background-color: #ae1725;">
              <th scope="col" class="px-4 py-4 text-left text-sm font-medium tracking-wide text-white">Feature</th>
              <th scope="col" class="px-4 py-4 text-center text-sm font-medium tracking-wide text-white">Reflets de Bonheur</th>
              <th scope="col" class="px-4 py-4 text-center text-sm font-medium tracking-wide text-white">Google Photos</th>
              <th scope="col" class="px-4 py-4 text-center text-sm font-medium tracking-wide text-white">WeTransfer</th>
            </tr>
          </thead>
          <tbody class="divide-y" style="--tw-divide-opacity: 0.1; border-color: rgba(174, 23, 37, 0.1);">
            <tr>
              <th scope="row" class="px-4 py-4 text-sm text-charcoal dark:text-cream text-left font-normal">Price</th>
              <td class="px-4 py-4 text-center font-medium text-sm text-burgundy-old">{pricePromoLabel}/{durationLabel}&nbsp;years</td>
              <td class="px-4 py-4 text-center text-charcoal-light dark:text-cream/70 text-sm">Free (limited)</td>
              <td class="px-4 py-4 text-center text-charcoal-light dark:text-cream/70 text-sm">{monthlyTransferLabel}/month</td>
            </tr>
            <tr>
              <th scope="row" class="px-4 py-4 text-sm text-charcoal dark:text-cream text-left font-normal">Custom domain</th>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">Yes</span>
                <Check class="w-5 h-5 mx-auto text-burgundy-old" aria-hidden="true" />
              </td>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">No</span>
                <X class="w-5 h-5 text-charcoal-light/40 mx-auto" aria-hidden="true" />
              </td>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">No</span>
                <X class="w-5 h-5 text-charcoal-light/40 mx-auto" aria-hidden="true" />
              </td>
            </tr>
            <tr>
              <th scope="row" class="px-4 py-4 text-sm text-charcoal dark:text-cream text-left font-normal">Guestbook</th>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">Yes</span>
                <Check class="w-5 h-5 mx-auto text-burgundy-old" aria-hidden="true" />
              </td>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">No</span>
                <X class="w-5 h-5 text-charcoal-light/40 mx-auto" aria-hidden="true" />
              </td>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">No</span>
                <X class="w-5 h-5 text-charcoal-light/40 mx-auto" aria-hidden="true" />
              </td>
            </tr>
            <tr>
              <th scope="row" class="px-4 py-4 text-sm text-charcoal dark:text-cream text-left font-normal">Wedding website</th>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">Yes</span>
                <Check class="w-5 h-5 mx-auto text-burgundy-old" aria-hidden="true" />
              </td>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">No</span>
                <X class="w-5 h-5 text-charcoal-light/40 mx-auto" aria-hidden="true" />
              </td>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">No</span>
                <X class="w-5 h-5 text-charcoal-light/40 mx-auto" aria-hidden="true" />
              </td>
            </tr>
            <tr>
              <th scope="row" class="px-4 py-4 text-sm text-charcoal dark:text-cream text-left font-normal">Original quality</th>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">Yes</span>
                <Check class="w-5 h-5 mx-auto text-burgundy-old" aria-hidden="true" />
              </td>
              <td class="px-4 py-4 text-center text-charcoal-light dark:text-cream/70 text-sm">Compressed</td>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">Yes</span>
                <Check class="w-5 h-5 mx-auto text-burgundy-old" aria-hidden="true" />
              </td>
            </tr>
            <tr>
              <th scope="row" class="px-4 py-4 text-sm text-charcoal dark:text-cream text-left font-normal">No ads</th>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">Yes</span>
                <Check class="w-5 h-5 mx-auto text-burgundy-old" aria-hidden="true" />
              </td>
              <td class="px-4 py-4 text-center">
                <span class="sr-only">No</span>
                <X class="w-5 h-5 text-charcoal-light/40 mx-auto" aria-hidden="true" />
              </td>
              <td class="px-4 py-4 text-center text-charcoal-light dark:text-cream/70 text-sm">Pro version</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Final CTA -->
  <section class="py-24" style="background-color: #ae1725;">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center max-w-2xl mx-auto">
        <h2 class="font-serif text-3xl sm:text-4xl font-light mb-6 text-white">
          Ready to Curate Your Memories?
        </h2>
        <p class="text-white/80 font-light mb-4 tabular-nums">
          <span class="line-through text-white/50">{priceOriginalLabel}</span>
          <strong class="text-white ml-2">{pricePromoLabel}</strong> for {durationLabel}&nbsp;full&nbsp;years.
        </p>
        <p class="text-white/70 font-light text-sm mb-8">
          Private domain included • Then {renewalAnnualLabel}/year for renewal
        </p>
        <a
          href="/connexion"
          class="inline-flex items-center px-10 py-4 bg-white font-sans font-medium text-sm tracking-wider uppercase hover:bg-gray-100 transition-colors text-burgundy-old"
        >
          Get Started Now
          <ArrowRight class="ml-2 w-4 h-4" aria-hidden="true" />
        </a>
        <p class="mt-6 text-white/60 text-sm font-light">
          {guaranteeDaysLabel}-day money-back guarantee
        </p>
      </div>
    </div>
  </section>

  <Footer slot="footer" />
</MainLayout>
